
# Решение задач с использованием реляционной алгебры

## Исходные отношения
1. **Клиенты** (КодКлиента, ФИО, Адрес, Телефон)
2. **Заказы** (НомерЗаказа, КодКлиента, ДатаЗаказа, ТипДоставки)
3. **Игры** (КодИгры, Название, Производитель, МаксимальноеКолвоИгроков)
4. **ЗаказыИгры** (НомерЗаказа, КодИгры)
5. **Сотрудники** (ТабельныйНомер, ФИО, Должность)
6. **Назначения** (ТабельныйНомер, НомерЗаказа)

## Решение задач

### 1. Определите адреса клиентов, заказывавших игры с доставкой.
Для выполнения данного запроса используем отношения **Клиенты** и **Заказы**.

- `π_{Адрес} (σ_{ТипДоставки = 'Доставка'} (Заказы) ⨝ (Клиенты))`

Шаги:
1. Выбираем заказы с доставкой: `σ_{ТипДоставки = 'Доставка'} (Заказы)`
2. Соединяем отфильтрованные заказы с отношением Клиенты по КодКлиента: `σ_{ТипДоставки = 'Доставка'} (Заказы) ⨝ (Клиенты)`
3. Проецируем на атрибут Адрес: `π_{Адрес} (Результат_Соединения)`

### 2. Определите название и производителя игры (игр), в которую можно играть самой большой компанией.
Для выполнения данного запроса используем отношение **Игры**.

- `π_{Название, Производитель} (σ_{МаксимальноеКолвоИгроков = (MAX (Игры.МаксимальноеКолвоИгроков))} (Игры))`

Шаги:
1. Находим максимальное количество игроков: `MAX (Игры.МаксимальноеКолвоИгроков)`
2. Фильтруем игры по максимальному количеству игроков: `σ_{МаксимальноеКолвоИгроков = (MAX (Игры.МаксимальноеКолвоИгроков))} (Игры)`
3. Проецируем на атрибуты Название и Производитель: `π_{Название, Производитель} (Результат_Фильтрации)`

### 3. Определить табельный номер сотрудника, назначенного ответственным только за один заказ (на момент выполнения запроса).
Для выполнения данного запроса используем отношения **Назначения**.

- `π_{ТабельныйНомер} (σ_{КоличествоЗаказов = 1} (Назначения ⨝ (π_{ТабельныйНомер, COUNT(НомерЗаказа) AS КоличествоЗаказов} (Назначения GROUP BY ТабельныйНомер)))`

Шаги:
1. Группируем назначения по табельному номеру и считаем количество заказов для каждого сотрудника: `π_{ТабельныйНомер, COUNT(НомерЗаказа) AS КоличествоЗаказов} (Назначения GROUP BY ТабельныйНомер)`
2. Фильтруем результат для сотрудников, ответственных только за один заказ: `σ_{КоличествоЗаказов = 1} (Результат_Группировки)`
3. Проецируем на атрибут ТабельныйНомер: `π_{ТабельныйНомер} (Результат_Фильтрации)`
